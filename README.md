# VIP 视频解析助手（Chrome 扩展 · MV3）

更简单、直观的“VIP 视频解析”工具：探测路线 → 选择有效路线 → 开始解析；仅在当前页覆盖层播放（若受限可手动“新标签页打开”）。

> 仅供个人学习与研究。请遵守目标网站服务条款与当地法律法规。

---

## 亮点
- 探测路线：并行探测所有内置接口，单条≤10s；返回即更新，失败标红、成功标绿并显示耗时
- 默认最优：探测完成自动选中“耗时最短”的成功路线
- 覆盖层播放：点击“开始解析”只在当前标签页内播放，不自动新开标签
- 右键快捷：页面/链接右键“开始解析”，不暴露任何接口信息
- 内置接口：解析前缀仅来自 `src/config.json`，不对外暴露配置入口

---

## 安装（开发者模式）
1. 打开 Chrome，访问 `chrome://extensions`。
2. 开启右上角“开发者模式”。
3. 点击“加载已解压的扩展程序”，选择本项目目录：
   - `/Users/{user}/Documents/VIP视频解析Chrome插件`
4. 看到“VIP 视频解析助手”后，点击“固定到工具栏”。

> 修改代码或图标后，回到扩展页点“重新加载”即可生效。

---

## 使用
1. 打开一个视频页面（示例：`https://v.qq.com/...`）
2. 点击扩展图标 → “探测路线”
   - 看到 N 个胶囊：灰=探测中，绿=成功（显示耗时），红=失败（超时或不可达）
   - 探测完成后默认选中“耗时最短”的绿胶囊；也可手动改选
3. “开始解析”变为可点击 → 覆盖层内播放
   - 若站点禁止内嵌（X-Frame-Options/CSP），覆盖层内提供“新标签页打开”

> 目标 URL 会自动 `encodeURIComponent`，无需手动编码。

---

## 右键菜单
- 页面：开始解析（当前页面）
- 链接：开始解析（此链接）
均自动选择可用路线，且不暴露接口名称或 URL。

---

## 配置与隐私
- 配置：接口前缀仅由 `src/config.json` 提供（例如 5 条解析前缀），不提供 UI 管理
- 权限：`activeTab`、`tabs`、`storage`、`contextMenus`、`scripting`

说明：
- 不收集、不上传任何浏览记录或个人信息；所有解析都在你的浏览器本地完成。
- 未声明广泛主机权限（host_permissions 仅用于常见视频站内容脚本）。

---

## 常见问题（FAQ）
- 探测结果都是红色？
  - 解析站点可能临时不可用，稍后重试；或换视频页重试。
- 覆盖层没出现或黑屏？
  - 目标站点可能禁止内嵌，点击覆盖层的“新标签页打开”兜底。
- 右键没反应？
  - 确认处于可解析的视频页或链接，或在扩展页“重新加载”后再试。

---

## 版本记录
- v0.1.1
  - 并行探测与逐条回流；默认选择最短耗时成功路线
  - 仅覆盖层解析，不默认新开标签
  - 右键自动解析，不暴露接口
  - 中文 README 对齐产品形态

---

## 免责声明
本扩展不提供任何视频内容，仅将目标视频 URL 拼接到第三方解析站点进行打开。请自行评估并承担使用第三方服务带来的合规与可用性风险。
